<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>学习笔记</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="新东西这么多 一个一个开始学">
<meta property="og:type" content="website">
<meta property="og:title" content="学习笔记">
<meta property="og:url" content="http://hjsang.github.io/page/2/index.html">
<meta property="og:site_name" content="学习笔记">
<meta property="og:description" content="新东西这么多 一个一个开始学">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Hejian Sang">
<meta property="article:tag" content="课程笔记，总结记录，阅读笔记">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="学习笔记" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.2.0"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">学习笔记</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://hjsang.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-Leetcode-224-Basic-Calculator" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/04/Leetcode-224-Basic-Calculator/" class="article-date">
  <time datetime="2021-01-04T20:48:19.000Z" itemprop="datePublished">2021-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/04/Leetcode-224-Basic-Calculator/">Leetcode 224: Basic Calculator</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Hard</p>
<p>Given a string s representing an expression, implement a basic calculator to evaluate it.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;1 + 1&quot;</span><br><span class="line">Output: 2</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot; 2-1 + 2 &quot;</span><br><span class="line">Output: 3</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 3</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;(1+(4+5+2)-3)+(6+8)&quot;</span><br><span class="line">Output: 23</span><br></pre></td></tr></table></figure></p>
<p><strong>Constraints</strong>:</p>
<ul>
<li>1 &lt;= s.length &lt;= 3 * 105</li>
<li>s consists of digits, ‘+’, ‘-‘, ‘(‘, ‘)’, and ‘ ‘.</li>
<li>s represents a valid expression.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calculate</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        res, num, stack, sign = <span class="number">0</span>,<span class="number">0</span>,[],<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> c.isdigit():</span><br><span class="line">                num = <span class="number">10</span>*num +<span class="built_in">int</span>(c)</span><br><span class="line">            <span class="keyword">elif</span> c==<span class="string">&quot;+&quot;</span>:</span><br><span class="line">                res += sign*num</span><br><span class="line">                num=<span class="number">0</span></span><br><span class="line">                sign=<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> c==<span class="string">&quot;-&quot;</span>:</span><br><span class="line">                res += sign*num</span><br><span class="line">                num=<span class="number">0</span></span><br><span class="line">                sign=-<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> c==<span class="string">&quot;(&quot;</span>:</span><br><span class="line">                stack.append(res)</span><br><span class="line">                stack.append(sign)</span><br><span class="line">                res=<span class="number">0</span></span><br><span class="line">                sign=<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> c==<span class="string">&quot;)&quot;</span>:</span><br><span class="line">                prev_sign = stack.pop()</span><br><span class="line">                prev_res = stack.pop()</span><br><span class="line">                res+=sign*num</span><br><span class="line">                res = prev_res + prev_sign*(res)</span><br><span class="line">                num=<span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> res+sign*num</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hjsang.github.io/2021/01/04/Leetcode-224-Basic-Calculator/" data-id="ckjj1hu810001epu2dxcrbgz1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Leetcode/" rel="tag">Leetcode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Stack/" rel="tag">Stack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Leetcode-227-Basic-Calculator-II" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/04/Leetcode-227-Basic-Calculator-II/" class="article-date">
  <time datetime="2021-01-04T19:56:59.000Z" itemprop="datePublished">2021-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/04/Leetcode-227-Basic-Calculator-II/">Leetcode 227: Basic Calculator II</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Medium</p>
<p>Given a string s which represents an expression, evaluate this expression and return its value.</p>
<p>The integer division should truncate toward zero.</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;3+2*2&quot;</span><br><span class="line">Output: 7</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot; 3&#x2F;2 &quot;</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 3</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot; 3+5 &#x2F; 2 &quot;</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure></p>
<p><strong>Constraints</strong>:</p>
<ul>
<li>1 &lt;= s.length &lt;= 3 * 105</li>
<li>s consists of integers and operators (‘+’, ‘-‘, ‘*‘, ‘/‘) separated by some number of spaces.</li>
<li>s represents a valid expression.</li>
<li>All the integers in the expression are non-negative integers in the range [0, 231 - 1].</li>
<li>The answer is guaranteed to fit in a 32-bit integer.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">calculate</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="comment"># Stack</span></span><br><span class="line">        <span class="comment"># c in &#123;digit, +, -, *, /&#125;</span></span><br><span class="line">        <span class="comment"># *, / have higher priority than +, -</span></span><br><span class="line">        <span class="comment"># if the operator is * or /, perform imediately</span></span><br><span class="line">        stack = []</span><br><span class="line">        sign = <span class="string">&#x27;+&#x27;</span></span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        <span class="keyword">for</span> i,c <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            <span class="keyword">if</span> c.isdigit():</span><br><span class="line">                num = <span class="number">10</span>*num + <span class="built_in">int</span>(c)</span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">in</span> [<span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;*&#x27;</span>] <span class="keyword">or</span> i==n-<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> sign == <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">                    stack.append(num)</span><br><span class="line">                <span class="keyword">if</span> sign == <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">                    stack.append(-num)</span><br><span class="line">                <span class="keyword">if</span> sign == <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                    prev = stack.pop()</span><br><span class="line">                    stack.append(prev*num)</span><br><span class="line">                <span class="keyword">if</span> sign == <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">                    prev = stack.pop()</span><br><span class="line">                    <span class="keyword">if</span> prev&gt;<span class="number">0</span>:</span><br><span class="line">                        stack.append(prev//num)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        stack.append(-(-prev//num))</span><br><span class="line">                sign = c</span><br><span class="line">                num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(stack)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hjsang.github.io/2021/01/04/Leetcode-227-Basic-Calculator-II/" data-id="ckjj1hu840003epu2fd9v15y9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Leetcode/" rel="tag">Leetcode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Stack/" rel="tag">Stack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Leetcode-1249-Minimum-Remove-to-Make-Valid-Parentheses" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/04/Leetcode-1249-Minimum-Remove-to-Make-Valid-Parentheses/" class="article-date">
  <time datetime="2021-01-04T19:38:39.000Z" itemprop="datePublished">2021-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/04/Leetcode-1249-Minimum-Remove-to-Make-Valid-Parentheses/">Leetcode 1249: Minimum Remove to Make Valid Parentheses</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Medium</p>
<p>Given a string s of ‘(‘ , ‘)’ and lowercase English characters.</p>
<p>Your task is to remove the minimum number of parentheses ( ‘(‘ or ‘)’, in any positions ) so that the resulting parentheses string is valid and return any valid string.</p>
<p>Formally, a parentheses string is valid if and only if:</p>
<ul>
<li>It is the empty string, contains only lowercase characters, or</li>
<li>It can be written as AB (A concatenated with B), where A and B are valid strings, or</li>
<li>It can be written as (A), where A is a valid string.</li>
</ul>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;lee(t(c)o)de)&quot;</span><br><span class="line">Output: &quot;lee(t(c)o)de&quot;</span><br><span class="line">Explanation: &quot;lee(t(co)de)&quot; , &quot;lee(t(c)ode)&quot; would also be accepted.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;a)b(c)d&quot;</span><br><span class="line">Output: &quot;ab(c)d&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 3</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;))((&quot;</span><br><span class="line">Output: &quot;&quot;</span><br><span class="line">Explanation: An empty string is also valid.</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 4</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;(a(b(c)d)&quot;</span><br><span class="line">Output: &quot;a(b(c)d)&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>Constraints</strong>:</p>
<ul>
<li>1 &lt;= s.length &lt;= 10^5</li>
<li>s[i] is one of  ‘(‘ , ‘)’ and lowercase English letters.</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minRemoveToMakeValid</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        stack = []</span><br><span class="line">        remove = []</span><br><span class="line">        <span class="keyword">for</span> index, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            <span class="keyword">if</span> val == <span class="string">&quot;(&quot;</span>:</span><br><span class="line">                stack.append(index)</span><br><span class="line">            <span class="keyword">elif</span> val == <span class="string">&quot;)&quot;</span> <span class="keyword">and</span> stack:</span><br><span class="line">                stack.pop()</span><br><span class="line">            <span class="keyword">elif</span> val == <span class="string">&quot;)&quot;</span>:</span><br><span class="line">                remove.append(index)</span><br><span class="line"></span><br><span class="line">        res = <span class="string">&quot;&quot;</span></span><br><span class="line">        ind = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="built_in">len</span>(s)))</span><br><span class="line">        ind = [i <span class="keyword">for</span> i <span class="keyword">in</span> ind <span class="keyword">if</span> i <span class="keyword">not</span> <span class="keyword">in</span> remove+stack]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> ind:</span><br><span class="line">            res += s[i]</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hjsang.github.io/2021/01/04/Leetcode-1249-Minimum-Remove-to-Make-Valid-Parentheses/" data-id="ckjj1hu7p0000epu21evq5svj" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Leetcode/" rel="tag">Leetcode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Stack/" rel="tag">Stack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Leetcode-394-Decode-String" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/04/Leetcode-394-Decode-String/" class="article-date">
  <time datetime="2021-01-04T19:11:05.000Z" itemprop="datePublished">2021-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/04/Leetcode-394-Decode-String/">Leetcode 394: Decode String</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Medium </p>
<p>Given an encoded string, return its decoded string.</p>
<p>The encoding rule is: k[encoded_string], where the encoded_string inside the square brackets is being repeated exactly k times. Note that k is guaranteed to be a positive integer.</p>
<p>You may assume that the input string is always valid; No extra white spaces, square brackets are well-formed, etc.</p>
<p>Furthermore, you may assume that the original data does not contain any digits and that digits are only for those repeat numbers, k. For example, there won’t be input like 3a or 2[4].</p>
<p><strong>Example 1</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;3[a]2[bc]&quot;</span><br><span class="line">Output: &quot;aaabcbc&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 2</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;3[a2[c]]&quot;</span><br><span class="line">Output: &quot;accaccacc&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 3</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;2[abc]3[cd]ef&quot;</span><br><span class="line">Output: &quot;abcabccdcdcdef&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>Example 4</strong>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: s &#x3D; &quot;abc3[cd]xyz&quot;</span><br><span class="line">Output: &quot;abccdcdcdxyz&quot;</span><br></pre></td></tr></table></figure></p>
<p><strong>Constraints</strong>:</p>
<ul>
<li>1 &lt;= s.length &lt;= 30</li>
<li>s consists of lowercase English letters, digits, and square brackets ‘[]’.</li>
<li>s is guaranteed to be a valid input.</li>
<li>All the integers in s are in the range [1, 300].</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decodeString</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        <span class="comment"># Stack</span></span><br><span class="line">        <span class="comment"># char is one of &#123;digit, alphabet, [, ]&#125;</span></span><br><span class="line">        <span class="comment"># to understand operators for each case</span></span><br><span class="line">        stack = []</span><br><span class="line">        ans = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        cur_string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> char.isdigit():</span><br><span class="line">                num = <span class="number">10</span>*num + <span class="built_in">int</span>(char)</span><br><span class="line">            <span class="keyword">if</span> char.isalpha():</span><br><span class="line">                cur_string += char</span><br><span class="line">            <span class="keyword">if</span> char == <span class="string">&#x27;[&#x27;</span>:</span><br><span class="line">                stack.append((num,cur_string))</span><br><span class="line">                num = <span class="number">0</span></span><br><span class="line">                cur_string = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="keyword">if</span> char == <span class="string">&#x27;]&#x27;</span>:</span><br><span class="line">                k, prev_string = stack.pop()</span><br><span class="line">                cur_string = prev_string + cur_string * k</span><br><span class="line">        <span class="keyword">return</span> cur_string</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hjsang.github.io/2021/01/04/Leetcode-394-Decode-String/" data-id="ckjj1hu870006epu29v556jby" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Leetcode/" rel="tag">Leetcode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Stack/" rel="tag">Stack</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Leetcode-42-Trapping-Rain-Water" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/04/Leetcode-42-Trapping-Rain-Water/" class="article-date">
  <time datetime="2021-01-04T18:13:22.000Z" itemprop="datePublished">2021-01-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/04/Leetcode-42-Trapping-Rain-Water/">Leetcode 42: Trapping Rain Water</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Hard</p>
<p>Given n non-negative integers representing an elevation map where the width of each bar is 1, compute how much water it can trap after raining.</p>
<p><strong>Example 1</strong></p>
<p><img src="https://assets.leetcode.com/uploads/2018/10/22/rainwatertrap.png" alt="image"></p>
<p>Input: height = [0,1,0,2,1,0,1,3,2,1,2,1]<br>Output: 6<br>Explanation: The above elevation map (black section) is represented by array [0,1,0,2,1,0,1,3,2,1,2,1]. In this case, 6 units of rain water (blue section) are being trapped.</p>
<p><strong> Two Pointers</strong>:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">trap</span>(<span class="params">self, height: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="comment"># The unit can trap water if its left and right are both higher than the bar.</span></span><br><span class="line">        <span class="comment"># The volume of the water is determined by the maximum values of its left and right</span></span><br><span class="line">        n = <span class="built_in">len</span>(height)</span><br><span class="line">        <span class="keyword">if</span> n&lt;=<span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        leftM, rightM = <span class="number">0</span>,<span class="number">0</span></span><br><span class="line">        l,r=<span class="number">0</span>,n-<span class="number">1</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> l&lt;r:</span><br><span class="line">            leftM = <span class="built_in">max</span>(height[l], leftM)</span><br><span class="line">            rightM = <span class="built_in">max</span>(height[r], rightM)</span><br><span class="line">            <span class="keyword">if</span> leftM &lt; rightM:</span><br><span class="line">                ans += (leftM - height[l])</span><br><span class="line">                l +=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans += (rightM - height[r])</span><br><span class="line">                r -=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></p>
<p><strong> Stack </strong>:<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">trap</span>(<span class="params">self, height: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="comment"># Stack</span></span><br><span class="line">        <span class="comment"># Keep a stack and iterate over the array</span></span><br><span class="line">        <span class="comment"># Add the index to the stack if the bar is smaller or equal to the bar at top of stack</span></span><br><span class="line">        <span class="comment"># If we found a bar longer than the top: [4,1] and 5</span></span><br><span class="line">        <span class="comment"># Then we know the water of &quot;1&quot; is 3.</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        n = <span class="built_in">len</span>(height)</span><br><span class="line">        stack = []</span><br><span class="line">        current = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> current &lt; n:</span><br><span class="line">            <span class="keyword">while</span> stack <span class="keyword">and</span> height[current] &gt; height[stack[-<span class="number">1</span>]]:</span><br><span class="line">                top = stack[-<span class="number">1</span>]</span><br><span class="line">                stack.pop()</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> stack:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                distance = current - stack[-<span class="number">1</span>] -<span class="number">1</span></span><br><span class="line">                bounded_height = <span class="built_in">min</span>(height[current],height[stack[-<span class="number">1</span>]]) - height[top]</span><br><span class="line">                ans += distance * bounded_height</span><br><span class="line"></span><br><span class="line">            stack.append(current)</span><br><span class="line">            current +=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hjsang.github.io/2021/01/04/Leetcode-42-Trapping-Rain-Water/" data-id="ckjixtws300004au2g6op8df5" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Stack/" rel="tag">Stack</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/Two-pointers/" rel="tag">Two pointers</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Pandas-from-Zero-to-Hero" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/01/02/Pandas-from-Zero-to-Hero/" class="article-date">
  <time datetime="2021-01-03T01:15:10.000Z" itemprop="datePublished">2021-01-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/01/02/Pandas-from-Zero-to-Hero/">Pandas: from Zero to Hero</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>This article is also shown in <a target="_blank" rel="noopener" href="https://sanghj0923.medium.com/pandas-from-zero-to-hero-4322b333442c">medium</a>.  The treading takes around 5 minutes.</p>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>In this article, we will learn the most common functions in Pandas. You should be able to use Pandas for:  loading &amp; saving data frames, select subsets, data manipulation and some other common functions.</p>
<h2 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h2><p>Pandas provides lots of I/O functions to handle different data formats. Their function names share the same patterns: reading functions are all “read_{data format}” and writing functions are all “to_{data format}”. For example, “read_pickle” is used to load pickled object from file and “to_pickle” is used to serialize object to file.  In this article, we focus on CSV files.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import pandas</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># read csv file</span></span><br><span class="line">csv_data = pd.read_csv(filepath_or_buffer=<span class="string">&#x27;data.csv&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># save output to csv</span></span><br><span class="line">csv_data.to_csv(path_or_buf=<span class="string">&#x27;csv_data.csv&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h2 id="Select-Subset"><a href="#Select-Subset" class="headerlink" title="Select Subset"></a>Select Subset</h2><p>We can use “.loc” and “.iloc” to select subsets from the original dataframe. Prefer “.iloc” if we want to use the positions in the dataframe. Otherwise, we can use “.loc”.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># import pandas</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># Create dataframe</span></span><br><span class="line">gender = [<span class="string">&#x27;M&#x27;</span>,<span class="string">&#x27;F&#x27;</span>]</span><br><span class="line">company = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>, <span class="string">&#x27;C&#x27;</span>]</span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;age&quot;</span>: np.random.randint(<span class="number">10</span>,<span class="number">60</span>,<span class="number">100</span>),</span><br><span class="line">                  <span class="string">&quot;gender&quot;</span>: [gender[i] <span class="keyword">for</span> i <span class="keyword">in</span> np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">100</span>)],</span><br><span class="line">                   <span class="string">&quot;company&quot;</span>: [company[i] <span class="keyword">for</span> i <span class="keyword">in</span> np.random.randint(<span class="number">0</span>,<span class="number">3</span>,<span class="number">100</span>)],</span><br><span class="line">                  <span class="string">&quot;salary&quot;</span>: np.random.randint(<span class="number">100</span>,<span class="number">1000</span>,<span class="number">100</span>)&#125;)</span><br><span class="line"><span class="comment"># df looks like:</span></span><br><span class="line"><span class="comment">#   age gender  company salary</span></span><br><span class="line"><span class="comment"># 0 18  F A 132</span></span><br><span class="line"><span class="comment"># 1 41  F B 333</span></span><br><span class="line"><span class="comment"># 2 25  F A 981</span></span><br><span class="line"><span class="comment"># 3 26  M C 686</span></span><br><span class="line"><span class="comment"># 4 48  M B 530</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Select row [0,5] with all columns</span></span><br><span class="line">df.iloc[[<span class="number">0</span>,<span class="number">5</span>],:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Select row [0,5] with columns [1,2]</span></span><br><span class="line">df.iloc[[<span class="number">0</span>,<span class="number">5</span>],[<span class="number">1</span>,<span class="number">2</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Select gender == &#x27;F&#x27;</span></span><br><span class="line">df.loc[df[<span class="string">&#x27;gender&#x27;</span>]==<span class="string">&#x27;F&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Select gender == &#x27;F&#x27; and company in [&#x27;A&#x27;, &#x27;B&#x27;]</span></span><br><span class="line">df.loc[(df[<span class="string">&#x27;gender&#x27;</span>]==<span class="string">&#x27;F&#x27;</span>) &amp; (df[<span class="string">&#x27;company&#x27;</span>].isin([<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]))]</span><br><span class="line"></span><br><span class="line"><span class="comment"># Select people with age &gt; 30 and salary &gt; 700 and show their salary</span></span><br><span class="line"></span><br><span class="line">df.loc[(df[<span class="string">&#x27;age&#x27;</span>]&gt;<span class="number">30</span>) &amp; (df[<span class="string">&#x27;salary&#x27;</span>]&gt;<span class="number">700</span>),<span class="string">&#x27;salary&#x27;</span>]</span><br></pre></td></tr></table></figure>
<h2 id="Manipulation"><a href="#Manipulation" class="headerlink" title="Manipulation"></a>Manipulation</h2><p>Pandas can perform most common data manipulations: Merge, GroupBy and Reshape.</p>
<h3 id="Merge"><a href="#Merge" class="headerlink" title="Merge"></a>Merge</h3><p>For “Merge” operation, there are:</p>
<ul>
<li>“Left” merge: use only keys from left frame</li>
<li>“Right” merge: use only keys from right frame</li>
<li>“Outer” merge: use union of keys from both frames</li>
<li>“Inner” merge: use intersection of keys from both frames</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create two dataframes</span></span><br><span class="line">df1 = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>], <span class="string">&#x27;B&#x27;</span>:[<span class="number">11</span>,<span class="number">12</span>]&#125;)</span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:[<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>], <span class="string">&#x27;C&#x27;</span>:[<span class="number">12</span>,<span class="number">13</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># left join</span></span><br><span class="line">df1.merge(df2,how=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line"><span class="comment">#   A  B  C</span></span><br><span class="line"><span class="comment">#   1 11  NaN</span></span><br><span class="line"><span class="comment">#   2 12  12.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># right join</span></span><br><span class="line">df1.merge(df2,how=<span class="string">&#x27;left&#x27;</span>)</span><br><span class="line"><span class="comment">#   A  B     C</span></span><br><span class="line"><span class="comment">#   2 12.0  12</span></span><br><span class="line"><span class="comment">#   3 NaN   13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># inner join</span></span><br><span class="line">df1.merge(df2,how=<span class="string">&#x27;inner&#x27;</span>)</span><br><span class="line"><span class="comment"># A  B   C</span></span><br><span class="line"><span class="comment"># 2  12  12</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># outer join</span></span><br><span class="line">df1.merge(df2,how=<span class="string">&#x27;outer&#x27;</span>)</span><br><span class="line"><span class="comment"># A B     C</span></span><br><span class="line"><span class="comment"># 1 11.0  NaN</span></span><br><span class="line"><span class="comment"># 2 12.0  12.0</span></span><br><span class="line"><span class="comment"># 3 NaN   13.0</span></span><br></pre></td></tr></table></figure>
<h3 id="GroupBy"><a href="#GroupBy" class="headerlink" title="GroupBy"></a>GroupBy</h3><p>GroupBy operator is to group dataframe by some column(s) and then perform aggregation.<br>Operators following by GroupBy:</p>
<ul>
<li>Agg: support multiple default aggregations {min, max, sum, mean, median, std, var, count}</li>
<li>Transform: perform aggregation functions on each group and return a DataFrame having the same indexes as the original object filled with the transformed values</li>
<li>Apply: apply the flexible functions to each group</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create dataframe</span></span><br><span class="line">np.random.seed(<span class="number">2021</span>)</span><br><span class="line">company = [<span class="string">&#x27;A&#x27;</span>,<span class="string">&#x27;B&#x27;</span>]</span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&quot;company&quot;</span>: [company[i] <span class="keyword">for</span> i <span class="keyword">in</span> np.random.randint(<span class="number">0</span>,<span class="number">2</span>,<span class="number">10</span>)],</span><br><span class="line">                  <span class="string">&quot;salary&quot;</span>: np.random.randint(<span class="number">100</span>,<span class="number">1000</span>,<span class="number">10</span>)&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># groupby object</span></span><br><span class="line">df.groupby(by=<span class="string">&#x27;company&#x27;</span>)</span><br><span class="line"><span class="comment"># &lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x7f33aef16630&gt;</span></span><br><span class="line"><span class="comment"># It is a memory address. In order to check the data after groupby, we can use list.</span></span><br><span class="line"><span class="built_in">list</span>(df.groupby(by=<span class="string">&#x27;company&#x27;</span>))</span><br><span class="line"><span class="comment"># [(&#x27;A&#x27;,   company  salary</span></span><br><span class="line"><span class="comment">#   0       A     728</span></span><br><span class="line"><span class="comment">#   1       A     345</span></span><br><span class="line"><span class="comment">#   4       A     553</span></span><br><span class="line"><span class="comment">#   6       A     515</span></span><br><span class="line"><span class="comment">#   7       A     289), (&#x27;B&#x27;,   company  salary</span></span><br><span class="line"><span class="comment">#   2       B     915</span></span><br><span class="line"><span class="comment">#   3       B     146</span></span><br><span class="line"><span class="comment">#   5       B     483</span></span><br><span class="line"><span class="comment">#   8       B     452</span></span><br><span class="line"><span class="comment">#   9       B     461)]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># agg: minimum salary per company</span></span><br><span class="line">df.groupby(by=<span class="string">&#x27;company&#x27;</span>).agg(&#123;<span class="string">&#x27;salary&#x27;</span>:<span class="string">&#x27;min&#x27;</span>&#125;)</span><br><span class="line"><span class="comment">#           salary</span></span><br><span class="line"><span class="comment"># company</span></span><br><span class="line"><span class="comment"># A         202</span></span><br><span class="line"><span class="comment"># B         170</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># transform:</span></span><br><span class="line">df.groupby(by=<span class="string">&#x27;company&#x27;</span>)[<span class="string">&#x27;salary&#x27;</span>].transform(<span class="string">&#x27;min&#x27;</span>)</span><br><span class="line"><span class="comment"># 0    202</span></span><br><span class="line"><span class="comment"># 1    170</span></span><br><span class="line"><span class="comment"># 2    170</span></span><br><span class="line"><span class="comment"># 3    202</span></span><br><span class="line"><span class="comment"># 4    170</span></span><br><span class="line"><span class="comment"># 5    202</span></span><br><span class="line"><span class="comment"># 6    202</span></span><br><span class="line"><span class="comment"># 7    202</span></span><br><span class="line"><span class="comment"># 8    170</span></span><br><span class="line"><span class="comment"># 9    202</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">apply_min</span>(<span class="params">x</span>):</span></span><br><span class="line"> <span class="keyword">return</span> <span class="built_in">min</span>(x[<span class="string">&#x27;salary&#x27;</span>])</span><br><span class="line">df.groupby(by=<span class="string">&#x27;company&#x27;</span>).apply(apply_min)</span><br><span class="line"></span><br><span class="line"><span class="comment"># company</span></span><br><span class="line"><span class="comment"># A    202</span></span><br><span class="line"><span class="comment"># B    170</span></span><br></pre></td></tr></table></figure>
<h3 id="Reshape"><a href="#Reshape" class="headerlink" title="Reshape"></a>Reshape</h3><ul>
<li>If you want to gather columns into rows: melt.</li>
<li>If you want to append rows/columns: concat</li>
<li>If you want to spread rows into columns: pivot, pivot_table</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Create two dataframes</span></span><br><span class="line">df1 = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>], <span class="string">&#x27;B&#x27;</span>:[<span class="number">11</span>,<span class="number">12</span>]&#125;)</span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:[<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>], <span class="string">&#x27;B&#x27;</span>:[<span class="number">12</span>,<span class="number">13</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># append rows</span></span><br><span class="line">pd.concat([df1,df2])</span><br><span class="line"><span class="comment">#   A B</span></span><br><span class="line"><span class="comment"># 0 1 11</span></span><br><span class="line"><span class="comment"># 1 2 12</span></span><br><span class="line"><span class="comment"># 0 2 12</span></span><br><span class="line"><span class="comment"># 1 3 13</span></span><br><span class="line"></span><br><span class="line">df1 = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:[<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;2&#x27;</span>], <span class="string">&#x27;B&#x27;</span>:[<span class="number">11</span>,<span class="number">12</span>]&#125;)</span><br><span class="line">df2 = pd.DataFrame(&#123;<span class="string">&#x27;C&#x27;</span>:[<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;3&#x27;</span>], <span class="string">&#x27;D&#x27;</span>:[<span class="number">12</span>,<span class="number">13</span>]&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># append columns</span></span><br><span class="line">pd.concat([df1,df2],axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment">#   A  B  C  D</span></span><br><span class="line"><span class="comment"># 0 1 11  2 12</span></span><br><span class="line"><span class="comment"># 1 2 12  3 13</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># melt</span></span><br><span class="line">pd.melt(df1)</span><br><span class="line"><span class="comment">#   variable  value</span></span><br><span class="line"><span class="comment"># 0    A      1</span></span><br><span class="line"><span class="comment"># 1    A      2</span></span><br><span class="line"><span class="comment"># 2    B      11</span></span><br><span class="line"><span class="comment"># 3    B      12</span></span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;<span class="string">&#x27;A&#x27;</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>], <span class="string">&#x27;B&#x27;</span>:[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>],<span class="string">&#x27;C&#x27;</span>:[<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>]&#125;)</span><br><span class="line">df.pivot_table(index=<span class="string">&#x27;A&#x27;</span>,columns=<span class="string">&#x27;B&#x27;</span>,values=<span class="string">&#x27;C&#x27;</span>,aggfunc=<span class="string">&#x27;mean&#x27;</span>)</span><br><span class="line"><span class="comment"># B 1 2</span></span><br><span class="line"><span class="comment"># A</span></span><br><span class="line"><span class="comment"># 1 0.0 1.0</span></span><br><span class="line"><span class="comment"># 2 1.0</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="Other-Common-Functions"><a href="#Other-Common-Functions" class="headerlink" title="Other Common Functions"></a>Other Common Functions</h2><ul>
<li>df.drop_duplicates(): remove duplicate rows</li>
<li>df.head(n): select first n rows</li>
<li>df.tail(n): select last n rows</li>
<li>df.sample(n): randomly select n rows</li>
<li>df.sort_values(by=’mpg’, ascending=False): order rows by values of a column</li>
<li>df.rename(‘columns’={‘y’:’year’}, inplace=True): rename the column ‘y’ to ‘year’</li>
<li>df.sort_index(): sort the index of a DataFrame</li>
<li>df.reset_index(): reset the index to row numbers &amp; move the index to columns</li>
<li>df.drop(columns=[‘length’, ‘height’]): drop columns</li>
<li>df[’year’].value_counts(normalize=True, sort=True, ascending=False, bins=None, dropna=True): return the distribution of unique values</li>
<li>df.dropna(axis=0, how=’any’, inplace=True): remove rows with missing values</li>
<li>df.fillna(0): Replace all NaN elements with 0s.</li>
<li>pd.cut(x=df[‘height’], bins=3, labels=[“bad”, “medium”, “good”]): Bin values into discrete intervals.</li>
</ul>
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Pandas is a useful tool in python, which can perform I/O, subsetting, and manipulation. By reading this article, you are able to perform most data processings using DataFrame. </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://hjsang.github.io/2021/01/02/Pandas-from-Zero-to-Hero/" data-id="ckjgg8dmd0002h5u29mvgglpw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/data-science/" rel="tag">data science</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/source/tags/pandas/" rel="tag">pandas</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&amp;laquo; 上一页</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/3/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Algorithm/" rel="tag">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/BFS/" rel="tag">BFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Binary-Search/" rel="tag">Binary Search</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Binary-Tree/" rel="tag">Binary Tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/CF/" rel="tag">CF</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/CTR-prediction/" rel="tag">CTR prediction</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/DFS/" rel="tag">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Deep-Crossing/" rel="tag">Deep Crossing</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Hard/" rel="tag">Hard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Implicit-relevance-feedback/" rel="tag">Implicit relevance feedback</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/LeetCode/" rel="tag">LeetCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Leetcode/" rel="tag">Leetcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Linked-list/" rel="tag">Linked list</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Math/" rel="tag">Math</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Medium/" rel="tag">Medium</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Paper-reading-notes/" rel="tag">Paper reading notes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Recommendation-system/" rel="tag">Recommendation system</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Stack/" rel="tag">Stack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Traversal/" rel="tag">Traversal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Tree/" rel="tag">Tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Tree-Traversal/" rel="tag">Tree Traversal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Two-pointers/" rel="tag">Two pointers</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Web-Search/" rel="tag">Web Search</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Web-search-ranking/" rel="tag">Web search ranking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/Wide-Deep/" rel="tag">Wide & Deep</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/bfs/" rel="tag">bfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/data-science/" rel="tag">data science</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/deep-learning/" rel="tag">deep learning</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/dfs/" rel="tag">dfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/pandas/" rel="tag">pandas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/paper/" rel="tag">paper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/source/tags/recommender-system/" rel="tag">recommender system</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/source/tags/Algorithm/" style="font-size: 10px;">Algorithm</a> <a href="/source/tags/BFS/" style="font-size: 10px;">BFS</a> <a href="/source/tags/Binary-Search/" style="font-size: 10px;">Binary Search</a> <a href="/source/tags/Binary-Tree/" style="font-size: 10px;">Binary Tree</a> <a href="/source/tags/CF/" style="font-size: 10px;">CF</a> <a href="/source/tags/CTR-prediction/" style="font-size: 12px;">CTR prediction</a> <a href="/source/tags/DFS/" style="font-size: 10px;">DFS</a> <a href="/source/tags/Deep-Crossing/" style="font-size: 10px;">Deep Crossing</a> <a href="/source/tags/Hard/" style="font-size: 10px;">Hard</a> <a href="/source/tags/Implicit-relevance-feedback/" style="font-size: 10px;">Implicit relevance feedback</a> <a href="/source/tags/LeetCode/" style="font-size: 12px;">LeetCode</a> <a href="/source/tags/Leetcode/" style="font-size: 20px;">Leetcode</a> <a href="/source/tags/Linked-list/" style="font-size: 10px;">Linked list</a> <a href="/source/tags/Math/" style="font-size: 12px;">Math</a> <a href="/source/tags/Medium/" style="font-size: 10px;">Medium</a> <a href="/source/tags/Paper-reading-notes/" style="font-size: 10px;">Paper reading notes</a> <a href="/source/tags/Recommendation-system/" style="font-size: 14px;">Recommendation system</a> <a href="/source/tags/Stack/" style="font-size: 18px;">Stack</a> <a href="/source/tags/Traversal/" style="font-size: 10px;">Traversal</a> <a href="/source/tags/Tree/" style="font-size: 16px;">Tree</a> <a href="/source/tags/Tree-Traversal/" style="font-size: 10px;">Tree Traversal</a> <a href="/source/tags/Two-pointers/" style="font-size: 10px;">Two pointers</a> <a href="/source/tags/Web-Search/" style="font-size: 10px;">Web Search</a> <a href="/source/tags/Web-search-ranking/" style="font-size: 10px;">Web search ranking</a> <a href="/source/tags/Wide-Deep/" style="font-size: 10px;">Wide & Deep</a> <a href="/source/tags/bfs/" style="font-size: 10px;">bfs</a> <a href="/source/tags/data-science/" style="font-size: 10px;">data science</a> <a href="/source/tags/deep-learning/" style="font-size: 10px;">deep learning</a> <a href="/source/tags/dfs/" style="font-size: 10px;">dfs</a> <a href="/source/tags/pandas/" style="font-size: 10px;">pandas</a> <a href="/source/tags/paper/" style="font-size: 10px;">paper</a> <a href="/source/tags/recommender-system/" style="font-size: 10px;">recommender system</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">十一月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/01/18/Leetcode-2-Add-Two-Numbers/">Leetcode 2: Add Two Numbers</a>
          </li>
        
          <li>
            <a href="/2021/01/18/Leetcode-829-Consecutive-Numbers-Sum/">Leetcode 829: Consecutive Numbers Sum</a>
          </li>
        
          <li>
            <a href="/2021/01/16/Note-for-Deep-Crossing/">Note for Deep Crossing</a>
          </li>
        
          <li>
            <a href="/2021/01/16/Note-for-AutoRec-Autoencoders-Meet-Collaborative-Filtering/">Note for AutoRec: Autoencoders Meet Collaborative Filtering</a>
          </li>
        
          <li>
            <a href="/2021/01/16/Note-for-Wide-and-Deep-Learning-for-Recommendation-Systems/">Note for Wide and Deep Learning for Recommendation Systems</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Hejian Sang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>